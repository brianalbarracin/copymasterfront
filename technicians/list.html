<div class="card p-3">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">Técnicos</h4>
    <div><button class="btn btn-success btn-sm" onclick="appLoad('technicians/create.html')">Agregar</button></div>
  </div>
  <div class="table-responsive"><table class="table"><thead class="table-light"><tr><th>ID</th><th>Nombre</th><th>Teléfono</th><th>Email</th><th>Acciones</th></tr></thead><tbody id="tech-tbody"></tbody></table></div>
</div>
<script src="../assets/js/technicianService.js"></script>
<script>
async function renderTechs(){
  try {
    const list = await technicianService.list().then(r=>r.data||r);
    const tbody = document.getElementById("tech-tbody"); 
    tbody.innerHTML='';
    
    (list||[]).forEach(t=> {
      tbody.insertAdjacentHTML('beforeend', 
        `<tr>
          <td>${t.id}</td>
          <td>${t.fullName||''}</td>
          <td>${t.phone||''}</td>
          <td>${t.email||''}</td>
          <td>
            <button class="btn btn-sm btn-outline-secondary" 
                    onclick="appLoad('technicians/edit.html?id=${t.id}')">Editar</button>
            <button class="btn btn-sm btn-primary" 
                    onclick="appLoad('technicians/performance.html?id=${t.id}')">Rendimiento</button>
          </td>
        </tr>`
      );
    });
  } catch(err) {
    console.error("Error cargando técnicos:", err);
    tbody.innerHTML = '<tr><td colspan="5" class="text-center text-danger">Error cargando técnicos</td></tr>';
  }
}document.addEventListener("DOMContentLoaded", renderTechs);
</script>